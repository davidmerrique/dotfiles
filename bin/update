#!/bin/bash

sudo -v

while true; do sudo -n true; sleep 60; kill -0 "$$" || exit; done 2>/dev/null &

commands=(
  "rcup -d $DOTFILES"
  "brew update"
  "brew upgrade --all"
  "brew prune"
  "brew cleanup"
  "brew linkapps"
  "phpbrew self-update"
  "phpbrew known --update"
  "$DOTFILES/bin/nvmup"
  "npm cache clean -g"
  "$DOTFILES/npm-upgrade.sh"
  "gem update"
  "gem update --system"
  "composer self-update"
  "zgen selfupdate"
  "zgen update"
  "zgen save"
)

echo "updating..."
for i in "${commands[@]}"; do
  printf "\n**** Running: $i *****\n\n"
  eval $i
done
